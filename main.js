!function(){"use strict";class e{constructor(e,t,r,s,i){let{name:a,link:o,_id:n,isLiked:l}=e;this.name=a,this.link=o,this.id=n,this.isLiked=l,this._cardSelector=t,this._handleImagePreview=r,this._deleteCardModal=s,this._handleCardLike=i}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._deleteCard.addEventListener("click",(()=>this._deleteCardModal(this.id,this))),this._likeButton.addEventListener("click",(()=>{this._handleCardLike(this)})),this._cardImage.addEventListener("click",(()=>{this._handleImagePreview(this)}))}handleDeleteCard=()=>{this._cardElement.remove(),this._cardElement=null};updateLike(e){e?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active"),this.isLiked=e}getview(){return this._cardElement=this._getTemplate(),this._cardElement.querySelector(".card__title").textContent=this.name,this._likeButton=this._cardElement.querySelector(".card__like-button"),this.isLiked&&this._likeButton.classList.toggle("card__like-button_active"),this._cardImage=this._cardElement.querySelector(".card__image"),this._deleteCard=this._cardElement.querySelector(".card__remove-button"),this._cardImage.src=this.link,this._cardImage.alt=this.name,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}resetValidation(){this._toggleButtonState()}_toggleButtonState(){if(this._hasInvalidInput())return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners(),this._toggleButtonState()}}class r{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}))}}var s=class extends r{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._button=this._popupForm.querySelector(".modal__button")}_getInputValues(){const e=Array.from(this._popupForm.querySelectorAll(".modal__input")),t={};return e.forEach((e=>{t[e.name]=e.value})),t}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues(),this._button)}))}};const i=document.querySelector(".profile__edit-button"),a=document.querySelector("#profile-edit-modal"),o=document.querySelector("#avatar-edit-modal"),n=document.querySelector("#add-card-modal"),l=(a.querySelector("#modal-close"),n.querySelector("#modal-close"),document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector("#profile-title-name")),d=document.querySelector("#profile-description-input"),c=document.querySelector(".profile__add-button"),h=a.querySelector("#modal-form"),u=o.querySelector("#modal-form"),m=n.querySelector("#modal-form"),_=(m.querySelector("#card-title-input"),m.querySelector("#card-url-input"),document.querySelector(".cards__list"),document.querySelector(".cards__list"),document.querySelector("#card-template").content.firstElementChild,document.querySelector("#preview-image-modal")),p=(_.querySelector(".modal__img"),_.querySelector(".modal__caption"),_.querySelector("#modal-close"),"#card-template"),v={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},E=new class{constructor(e,t){let{renderer:r,items:s}=e;this._renderer=r,this._items=s,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>this._renderer(e)))}addItem(e){this._container.prepend(e)}}({renderer:e=>{const t=q(e);E.addItem(t)}},".cards__list"),f=new s("#add-card-modal",(function(e,t){L(!0,t),k.addCard({name:e.title,link:e.url}).then((e=>{E.addItem(q(e)),f.close(),m.reset(),U.resetValidation()})).catch((e=>{console.error("Error adding card:",e),alert("Failed to add the card. Please try again.")})).finally((()=>{L(!1,t)}))})),S=new s("#avatar-edit-modal",(function(e,t){L(!0,t),k.updateUserAvatar({avatar:e.avatar}).then((e=>{b.updateAvatarImage({avatar:e.avatar}),S.close(),w.resetValidation(),u.reset()})).catch((e=>{console.error("Error updating avatar:",e),alert("Failed to change avatar image. Please try again.")})).finally((()=>{L(!1,t)}))})),g=new s("#profile-edit-modal",(function(e,t){L(!0,t),k.updateUserInfo({name:e.name,about:e.description}).then((()=>{b.setUserInfo(e),g.close(),h.reset()})).catch((e=>{console.error("Error updating profile:",e),alert("Failed to update profile. Please try again.")})).finally((()=>{L(!1,t)}))}));f.setEventListeners(),g.setEventListeners(),S.setEventListeners();const y=new class extends r{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__img"),this._caption=this._popupElement.querySelector(".modal__caption")}open(e){let{link:t,name:r}=e;this._image.src=t,this._image.alt=r,this._caption.textContent=r,super.open()}}("#preview-image-modal");y.setEventListeners();const b=new class{constructor(e){let{profileName:t,jobElement:r,avatarImage:s}=e;this._profileName=document.querySelector(t),this._jobElement=document.querySelector(r),this._avatarImage=document.querySelector(s)}getUserInfo(){return{title:this._profileName.textContent,description:this._jobElement.textContent}}setUserInfo(e){this._profileName.textContent=e.name,this._jobElement.textContent=e.description}updateAvatarImage(e){e.avatar&&(this._avatarImage.src=e.avatar)}}({profileName:".profile__title",jobElement:".profile__description",avatarImage:".profile__image"}),C=new class extends r{constructor(e){super({popupSelector:e}),this._deleteCardModal=this._popupElement,this._formElement=this._deleteCardModal.querySelector(".modal__form")}setSubmitFunction(e){this._submitFunction=e}setEventListeners(){this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitFunction&&this._submitFunction()})),super.setEventListeners()}}("#delete-image-modal");C.setEventListeners();const k=new class{constructor(e){this.baseUrl=e.baseUrl,this.headers=e.headers}getInitialCards(){return fetch(`${this.baseUrl}/cards`,{method:"GET",headers:this.headers}).then((e=>this.checkResponse(e)))}getUserInfo(){return fetch(`${this.baseUrl}/users/me`,{method:"GET",headers:this.headers}).then((e=>this.checkResponse(e)))}updateUserInfo(e){return fetch(`${this.baseUrl}/users/me`,{method:"PATCH",headers:this.headers,body:JSON.stringify(e)}).then((e=>this.checkResponse(e)))}updateUserAvatar(e){return fetch(`${this.baseUrl}/users/me/avatar`,{method:"PATCH",headers:this.headers,body:JSON.stringify(e)}).then((e=>this.checkResponse(e)))}addCard(e){return fetch(`${this.baseUrl}/cards`,{method:"POST",headers:this.headers,body:JSON.stringify(e)}).then((e=>this.checkResponse(e)))}handleDeleteCard(e){return fetch(`${this.baseUrl}/cards/${e}`,{method:"DELETE",headers:this.headers}).then((e=>this.checkResponse(e)))}likeCard(e){return fetch(`${this.baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this.headers}).then((e=>this.checkResponse(e)))}dislikeCard(e){return fetch(`${this.baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this.headers}).then((e=>this.checkResponse(e)))}getUserInfoAndCards(){return Promise.all([this.getUserInfo(),this.getInitialCards()]).then((e=>{let[t,r]=e;return{userInfo:t,cards:r}}))}checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"c801e776-9008-430b-a7ca-bcf7d2aaaf7f","Content-Type":"application/json"}});function L(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save";t.textContent=e?"Saving...":r}function q(t){return new e(t,p,B,((e,t)=>{!function(e,t){C.setSubmitFunction((()=>{k.handleDeleteCard(e).then((()=>{t.handleDeleteCard(),C.close()})).catch((e=>console.error("Error deleting card:",e)))})),C.open()}(e,t)}),((e,t)=>{!function(e){e.isLiked?k.dislikeCard(e.id).then((t=>{e.updateLike(!1),console.log(t)})).catch((e=>console.error("Error removing like from card:",e))):k.likeCard(e.id).then((t=>{console.log(t),e.updateLike(!0)})).catch((e=>console.error("Error adding like to card:",e)))}(e)})).getview()}k.getUserInfoAndCards().then((e=>{let{userInfo:t,cards:r}=e;b.setUserInfo({name:t.name,description:t.about}),b.updateAvatarImage({avatar:t.avatar}),E.renderItems(r)})).catch((e=>{console.error("Failed to load user information or cards:",e),alert("Unable to load user data or cards. Please try again later.")})),document.querySelector(".profile__edit-avatar-button").addEventListener("click",(()=>{S.open()}));const I=new t(v,h),U=new t(v,m),w=new t(v,u);function B(e){y.open(e)}I.enableValidation(),U.enableValidation(),w.enableValidation(),i.addEventListener("click",(()=>{const e=b.getUserInfo();l.value=e.title,d.value=e.description,g.open()})),c.addEventListener("click",(()=>{f.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3pILFNBQVNDLGNBQWMsZ0NBQy9CSyxpQkFBaUIsU0FBUyxLQUN6Q3FILEVBQVloRSxNQUFNLElBdUZwQixNQUFNZ0ksRUFBb0IsSUFBSXZLLEVBQWNDLEVBQVVpRSxHQUNoRDhCLEVBQW1CLElBQUloRyxFQUFjQyxFQUFVbUUsR0FDL0MwQyxFQUFzQixJQUFJOUcsRUFBY0MsRUFBVWtFLEdBTXhELFNBQVNyRyxFQUFtQnFILEdBQzFCaUMsRUFBa0I3RSxLQUFLNEMsRUFDekIsQ0FOQW9GLEVBQWtCeEksbUJBQ2xCaUUsRUFBaUJqRSxtQkFDakIrRSxFQUFvQi9FLG1CQTBFcEI0QixFQUFrQnpFLGlCQUFpQixTQUFTLEtBQzFDLE1BQU1zTCxFQUFrQjVELEVBQWlCaUIsY0FDekM5RCxFQUFrQkwsTUFBUThHLEVBQWdCNUUsTUFDMUM1QixFQUF3Qk4sTUFBUThHLEVBQWdCdEQsWUFDaERILEVBQWlCeEUsTUFBTSxJQUd6QjBCLEVBQWlCL0UsaUJBQWlCLFNBQVMsS0FDekNvRyxFQUFhL0MsTUFBTSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwd2l0aGZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cENvbmZyaW1EZWxldGUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBY3R1YWwgY2FyZFxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgeyBuYW1lLCBsaW5rLCBfaWQsIGlzTGlrZWQgfSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlUHJldmlldyxcclxuICAgIGRlbGV0ZUNhcmRNb2RhbCxcclxuICAgIGhhbmRsZUNhcmRMaWtlXHJcbiAgKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5saW5rID0gbGluaztcclxuICAgIHRoaXMuaWQgPSBfaWQ7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VQcmV2aWV3ID0gaGFuZGxlSW1hZ2VQcmV2aWV3O1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZE1vZGFsID0gZGVsZXRlQ2FyZE1vZGFsO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVDYXJkTGlrZTtcclxuICB9XHJcblxyXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2RlbGV0ZUNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUNhcmRNb2RhbCh0aGlzLmlkLCB0aGlzKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlUHJldmlldyh0aGlzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBoYW5kbGVEZWxldGVDYXJkID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfTtcclxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHVwZGF0ZUxpa2UoaXNMaWtlZCkge1xyXG4gICAgaWYgKGlzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pc0xpa2VkID0gaXNMaWtlZDtcclxuICB9XHJcblxyXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgZ2V0dmlldygpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XHJcblxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICBpZiAodGhpcy5pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9kZWxldGVDYXJkID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19yZW1vdmUtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMubGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLm5hbWU7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvLyBsaWtlQ2FyZCgpIHtcclxuICAvLyAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAvLyAgIHRoaXMuaXNMaWtlZCA9IHRydWU7XHJcbiAgLy8gfVxyXG5cclxuICAvLyB1bmxpa2VDYXJkKCkge1xyXG4gIC8vICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIC8vICAgdGhpcy5pc0xpa2VkID0gZmFsc2U7XHJcbiAgLy8gfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWwpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcblxyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbDtcclxuICB9XHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xyXG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gIH1cclxuXHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiAhdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxufVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSB8fFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1nXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xyXG4gIH1cclxuICBvcGVuKHsgbGluaywgbmFtZSB9KSB7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2NhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXHJcbiAgICApO1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCksIHRoaXMuX2J1dHRvbik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIGNsb3NlKCkge1xyXG4gIC8vICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7IC8vIFJlc2V0IHRoZSBmb3JtIGZpZWxkcyB3aGVuIGNsb3NpbmdcclxuICAvLyBzdXBlci5jbG9zZSgpO1xyXG5cclxuICAvLyB9XHJcblxyXG4gIC8vIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gIC8vICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAvLyAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAvLyAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgLy8gICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgLy8gICAgIHRoaXMuY2xvc2UoKTtcclxuICAvLyAgIH0pO1xyXG4gIC8vIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcclxuIiwiY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtbW9kYWxcIik7XHJcbmNvbnN0IGF2YXRhckVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLWVkaXQtbW9kYWxcIik7XHJcbmNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbW9kYWxcIik7XHJcblxyXG5jb25zdCBwcm9maWxlTW9kYWxDbG9zZUJ1dHRvbiA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1jbG9zZVwiKTtcclxuY29uc3QgYWRkQ2FyZE1vZGFsQ2xvc2VCdXR0b24gPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1jbG9zZVwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcblxyXG5jb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXHJcbik7XHJcblxyXG5jb25zdCBhZGROZXdDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5cclxuLy9mb3Jtc1xyXG5jb25zdCBwcm9maWxlRWRpdEZvcm0gPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtZm9ybVwiKTtcclxuY29uc3QgYXZhdGFyRm9ybUVsZW1lbnQgPSBhdmF0YXJFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1mb3JtXCIpO1xyXG5jb25zdCBhZGRDYXJkRm9ybUVsZW1lbnQgPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1mb3JtXCIpO1xyXG5cclxuLy9jYXJkc1xyXG5jb25zdCBjYXJkVGl0bGVJbnB1dCA9IGFkZENhcmRGb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGl0bGUtaW5wdXRcIik7XHJcbmNvbnN0IGNhcmRVcmxJbnB1dCA9IGFkZENhcmRGb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdXJsLWlucHV0XCIpO1xyXG5jb25zdCBjYXJkTGlzdEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuY29uc3QgY2FyZEltYWdlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5jb25zdCB0ZW1wbGF0ZSA9XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcblxyXG4vLyBpbWFnZSBwcmV2aWV3IG1vZGFsXHJcbmNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xyXG5jb25zdCBtb2RhbEltYWdlRWxlbWVudCA9IHByZXZpZXdJbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltZ1wiKTtcclxuY29uc3QgaW1hZ2VNb2RhbGNhcHRpb24gPSBwcmV2aWV3SW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xyXG5jb25zdCBwcmVJbWdNb2RhbENsb3NlQnV0dG9uID0gcHJldmlld0ltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1jbG9zZVwiKTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZUVkaXRNb2RhbCxcclxuICBhZGRDYXJkTW9kYWwsXHJcbiAgYXZhdGFyRWRpdE1vZGFsLFxyXG4gIHByb2ZpbGVNb2RhbENsb3NlQnV0dG9uLFxyXG4gIHByb2ZpbGVUaXRsZSxcclxuICBwcm9maWxlRGVzY3JpcHRpb24sXHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQsXHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXHJcbiAgYWRkQ2FyZE1vZGFsQ2xvc2VCdXR0b24sXHJcbiAgYWRkTmV3Q2FyZEJ1dHRvbixcclxuICBwcm9maWxlRWRpdEZvcm0sXHJcbiAgYWRkQ2FyZEZvcm1FbGVtZW50LFxyXG4gIGNhcmRUaXRsZUlucHV0LFxyXG4gIGNhcmRVcmxJbnB1dCxcclxuICBjYXJkTGlzdEVsLFxyXG4gIGNhcmRJbWFnZUVsLFxyXG4gIHRlbXBsYXRlLFxyXG4gIG1vZGFsSW1hZ2VFbGVtZW50LFxyXG4gIGltYWdlTW9kYWxjYXB0aW9uLFxyXG4gIHByZUltZ01vZGFsQ2xvc2VCdXR0b24sXHJcbiAgYXZhdGFyRm9ybUVsZW1lbnQsXHJcbn07XHJcblxyXG4vLyBleHBvcnQgY29uc3QgY2FyZFNlbGVjdG9yID0gXCIjY2FyZC10ZWFtcGx0ZVwiO1xyXG5leHBvcnQgY29uc3QgY2FyZFNlbGVjdG9yID0gXCIjY2FyZC10ZW1wbGF0ZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbi8vX19fX19fX19cclxuXHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cHdpdGhmb3JtLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cENvbmZpcm1EZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBDb25mcmltRGVsZXRlLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG4vLyAvL19fX19fX19cclxuXHJcbi8vUHJvamVjdCA5Ly9cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL1xyXG5cclxuaW1wb3J0IHtcclxuICAvLyBpbml0aWFsQ2FyZHMsXHJcbiAgLy8gcHJvZmlsZUVkaXRNb2RhbCxcclxuICAvLyBwcm9maWxlRWRpdE1vZGFsLFxyXG4gIC8vIGFkZENhcmRNb2RhbCxcclxuICAvLyBhdmF0YXJFZGl0TW9kYWwsXHJcbiAgLy8gcHJvZmlsZU1vZGFsQ2xvc2VCdXR0b24sXHJcbiAgLy8gcHJvZmlsZVRpdGxlLFxyXG4gIC8vIHByb2ZpbGVEZXNjcmlwdGlvbixcclxuICAvLyBhZGRDYXJkTW9kYWxDbG9zZUJ1dHRvbixcclxuICAvLyBjYXJkVGl0bGVJbnB1dCxcclxuICAvLyBjYXJkVXJsSW5wdXQsXHJcbiAgLy8gY2FyZExpc3RFbCxcclxuICAvLyBjYXJkSW1hZ2VFbCxcclxuICAvLyBUZW1wbGF0ZSxcclxuICAvLyBtb2RhbEltYWdlRWxlbWVudCxcclxuICAvLyBpbWFnZU1vZGFsY2FwdGlvbixcclxuICAvLyBwcmVJbWdNb2RhbENsb3NlQnV0dG9uLFxyXG4gIGFkZE5ld0NhcmRCdXR0b24sXHJcbiAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gIGFkZENhcmRGb3JtRWxlbWVudCxcclxuICBwcm9maWxlVGl0bGVJbnB1dCxcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcclxuICBwcm9maWxlRWRpdEJ1dHRvbixcclxuICBjYXJkU2VsZWN0b3IsXHJcbiAgc2V0dGluZ3MsXHJcbiAgYXZhdGFyRm9ybUVsZW1lbnQsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmNhcmRzX19saXN0XCJcclxuKTtcclxuXHJcbi8vIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcblxyXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNhZGQtY2FyZC1tb2RhbFwiLFxyXG4gIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0XHJcbik7XHJcbmNvbnN0IGF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjYXZhdGFyLWVkaXQtbW9kYWxcIiwgaGFuZGxlQXZhdGFyU3VibWl0KTtcclxuY29uc3QgZWRpdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxyXG4gIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0XHJcbik7XHJcblxyXG5hZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgaW1hZ2VQcmV2aWV3UG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcHJldmlldy1pbWFnZS1tb2RhbFwiKTsgLy9zaG91bGQgYmUgZ29vZFxyXG5pbWFnZVByZXZpZXdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgdXNlckluZm9JbnN0YW5jZSA9IG5ldyBVc2VySW5mbyh7XHJcbiAgcHJvZmlsZU5hbWU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgam9iRWxlbWVudDogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICBhdmF0YXJJbWFnZTogXCIucHJvZmlsZV9faW1hZ2VcIixcclxufSk7XHJcblxyXG4vLyBJbnN0YW50aWF0aW5nICBQb3B1cENvbmZpcm1EZWxldGUgcHJvamVjdCA5XHJcblxyXG5jb25zdCBjb25maXJtRGVsZXRlID0gbmV3IFBvcHVwQ29uZmlybURlbGV0ZShcIiNkZWxldGUtaW1hZ2UtbW9kYWxcIik7XHJcblxyXG5jb25maXJtRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL1Byb2plY3QgOSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImM4MDFlNzc2LTkwMDgtNDMwYi1hN2NhLWJjZjdkMmFhYWY3ZlwiLCAvLyBteSBzcGVjaWFsIHRva2VuXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIGFwaVxyXG4vLyAgIC5nZXRJbml0aWFsQ2FyZHMoKVxyXG4vLyAgIC50aGVuKChkYXRhKSA9PiB7XHJcbi8vICAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcyhkYXRhKTtcclxuLy8gICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4vLyAgICAgLy8gY29uc29sZS5sb2coXCJGZXRjaGVkIENhcmRzOlwiLCBkYXRhKTtcclxuLy8gICB9KVxyXG4vLyAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbi8vICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgfSk7XHJcblxyXG5hcGlcclxuICAuZ2V0VXNlckluZm9BbmRDYXJkcygpXHJcbiAgLnRoZW4oKHsgdXNlckluZm8sIGNhcmRzIH0pID0+IHtcclxuICAgIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckluZm8oe1xyXG4gICAgICBuYW1lOiB1c2VySW5mby5uYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogdXNlckluZm8uYWJvdXQsXHJcbiAgICB9KTtcclxuICAgIHVzZXJJbmZvSW5zdGFuY2UudXBkYXRlQXZhdGFySW1hZ2UoeyBhdmF0YXI6IHVzZXJJbmZvLmF2YXRhciB9KTtcclxuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRzKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgdXNlciBpbmZvcm1hdGlvbiBvciBjYXJkczpcIiwgZXJyKTtcclxuICAgIGFsZXJ0KFwiVW5hYmxlIHRvIGxvYWQgdXNlciBkYXRhIG9yIGNhcmRzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiKTtcclxuICB9KTtcclxuXHJcbi8vIC8vIE9wZW4gYXZhdGFyIGVkaXQgcG9wdXBcclxuY29uc3QgYXZhdGFyRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1hdmF0YXItYnV0dG9uXCIpO1xyXG5hdmF0YXJFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYXZhdGFyUG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbi8vIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBhdmF0YXIgdXBkYXRlXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdChpbnB1dERhdGEsIHNhdmVCdXR0b24pIHtcclxuICByZW5kZXJTYXZpbmcodHJ1ZSwgc2F2ZUJ1dHRvbik7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlVXNlckF2YXRhcih7IGF2YXRhcjogaW5wdXREYXRhLmF2YXRhciB9KVxyXG4gICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvSW5zdGFuY2UudXBkYXRlQXZhdGFySW1hZ2UoeyBhdmF0YXI6IHVzZXJEYXRhLmF2YXRhciB9KTtcclxuICAgICAgYXZhdGFyUG9wdXAuY2xvc2UoKTtcclxuICAgICAgYXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICAgICAgYXZhdGFyRm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgYXZhdGFyOlwiLCBlcnIpO1xyXG4gICAgICBhbGVydChcIkZhaWxlZCB0byBjaGFuZ2UgYXZhdGFyIGltYWdlLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHJlbmRlclNhdmluZyhmYWxzZSwgc2F2ZUJ1dHRvbik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyU2F2aW5nKGlzTG9hZGluZywgYnV0dG9uRWxlbWVudCwgZGVmYXVsdFRleHQgPSBcIlNhdmVcIikge1xyXG4gIGlmIChpc0xvYWRpbmcpIHtcclxuICAgIGJ1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gZGVmYXVsdFRleHQ7XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gZW5kIG9mIHByb2plY3QgOSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLy8gLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uc1xyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlUHJldmlldyxcclxuICAgIChjYXJkSWQsIGNhcmQpID0+IHtcclxuICAgICAgZGVsZXRlQ2FyZE1vZGFsKGNhcmRJZCwgY2FyZCk7XHJcbiAgICB9LFxyXG4gICAgKGNhcmRJZCwgY2FyZCkgPT4ge1xyXG4gICAgICBoYW5kbGVDYXJkTGlrZShjYXJkSWQsIGNhcmQpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQuZ2V0dmlldygpO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuLy8gICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbi8vICAgICBpdGVtLFxyXG4vLyAgICAgY2FyZFNlbGVjdG9yLFxyXG4vLyAgICAgaGFuZGxlSW1hZ2VQcmV2aWV3LFxyXG4vLyAgICAgaGFuZGxlQ2FyZExpa2UsXHJcbi8vICAgICAoY2FyZElkLCBjYXJkKSA9PiB7XHJcbi8vICAgICAgIGRlbGV0ZUNhcmRNb2RhbChjYXJkSWQsIGNhcmQpO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIChjYXJkSWQsIGlzTGlrZWQsIGNhcmRFbGVtZW50KSA9PiB7XHJcbi8vICAgICAgIGhhbmRsZUxpa2VJY29uKGNhcmRJZCwgaXNMaWtlZCwgY2FyZEVsZW1lbnQsIGNhcmQpO1xyXG4vLyAgICAgfVxyXG4vLyAgICk7XHJcbi8vICAgcmV0dXJuIGNhcmQuZ2V0dmlldygpO1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkTGlrZShjYXJkKSB7XHJcbiAgaWYgKCFjYXJkLmlzTGlrZWQpIHtcclxuICAgIGFwaVxyXG4gICAgICAubGlrZUNhcmQoY2FyZC5pZClcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICBjYXJkLnVwZGF0ZUxpa2UodHJ1ZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWRkaW5nIGxpa2UgdG8gY2FyZDpcIiwgZXJyKSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFwaVxyXG4gICAgICAuZGlzbGlrZUNhcmQoY2FyZC5pZClcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBjYXJkLnVwZGF0ZUxpa2UoZmFsc2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIHJlbW92aW5nIGxpa2UgZnJvbSBjYXJkOlwiLCBlcnIpKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIHByb2ZpbGVFZGl0Rm9ybSk7XHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYWRkQ2FyZEZvcm1FbGVtZW50KTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBhdmF0YXJGb3JtRWxlbWVudCk7XHJcblxyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlUHJldmlldyhjYXJkRGF0YSkge1xyXG4gIGltYWdlUHJldmlld1BvcHVwLm9wZW4oY2FyZERhdGEpO1xyXG59XHJcbi8vIFByb2plY3QgOVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlQ2FyZE1vZGFsKGNhcmRJZCwgY2FyZCkge1xyXG4gIGNvbmZpcm1EZWxldGUuc2V0U3VibWl0RnVuY3Rpb24oKCkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5oYW5kbGVEZWxldGVDYXJkKGNhcmRJZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNhcmQuaGFuZGxlRGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgIGNvbmZpcm1EZWxldGUuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZWxldGluZyBjYXJkOlwiLCBlcnIpKTtcclxuICB9KTtcclxuXHJcbiAgY29uZmlybURlbGV0ZS5vcGVuKCk7XHJcbn1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudCBIYW5kbGVyc1xyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0KGlucHV0RGF0YSwgc2F2ZUJ1dHRvbikge1xyXG4gIHJlbmRlclNhdmluZyh0cnVlLCBzYXZlQnV0dG9uKTtcclxuXHJcbiAgYXBpXHJcbiAgICAudXBkYXRlVXNlckluZm8oe1xyXG4gICAgICBuYW1lOiBpbnB1dERhdGEubmFtZSxcclxuICAgICAgYWJvdXQ6IGlucHV0RGF0YS5kZXNjcmlwdGlvbixcclxuICAgIH0pXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckluZm8oaW5wdXREYXRhKTtcclxuICAgICAgZWRpdFByb2ZpbGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgICBwcm9maWxlRWRpdEZvcm0ucmVzZXQoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgcHJvZmlsZTpcIiwgZXJyKTtcclxuICAgICAgYWxlcnQoXCJGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGUuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcmVuZGVyU2F2aW5nKGZhbHNlLCBzYXZlQnV0dG9uKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdChpbnB1dFZhbHVlcywgc2F2ZUJ1dHRvbikge1xyXG4gIHJlbmRlclNhdmluZyh0cnVlLCBzYXZlQnV0dG9uKTtcclxuXHJcbiAgYXBpXHJcbiAgICAuYWRkQ2FyZCh7XHJcbiAgICAgIG5hbWU6IGlucHV0VmFsdWVzLnRpdGxlLFxyXG4gICAgICBsaW5rOiBpbnB1dFZhbHVlcy51cmwsXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkRGF0YSkpO1xyXG4gICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcclxuICAgICAgYWRkQ2FyZEZvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICAgIGFkZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFkZGluZyBjYXJkOlwiLCBlcnIpO1xyXG4gICAgICBhbGVydChcIkZhaWxlZCB0byBhZGQgdGhlIGNhcmQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcmVuZGVyU2F2aW5nKGZhbHNlLCBzYXZlQnV0dG9uKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudHMgbGlzdGVuZXJzXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCBjdXJyZW50VXNlckluZm8gPSB1c2VySW5mb0luc3RhbmNlLmdldFVzZXJJbmZvKCk7XHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8udGl0bGU7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8uZGVzY3JpcHRpb247XHJcbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYWRkTmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZENhcmRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG4iLCJjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyLCBpdGVtcyB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfVxyXG5cclxuICAvLyByZW5kZXJJdGVtcygpIHtcclxuICAvLyAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAvLyAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgLy8gICB9KTtcclxuICAvLyB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xyXG4iLCJjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBwcm9maWxlTmFtZSwgam9iRWxlbWVudCwgYXZhdGFySW1hZ2UgfSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lKTtcclxuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYkVsZW1lbnQpO1xyXG4gICAgdGhpcy5fYXZhdGFySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhckltYWdlKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0aXRsZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHVzZXJJbmYpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlckluZi5uYW1lO1xyXG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJJbmYuZGVzY3JpcHRpb247XHJcbiAgfVxyXG5cclxuICB1cGRhdGVBdmF0YXJJbWFnZShpbWFnZSkge1xyXG4gICAgaWYgKGltYWdlLmF2YXRhcikge1xyXG4gICAgICB0aGlzLl9hdmF0YXJJbWFnZS5zcmMgPSBpbWFnZS5hdmF0YXI7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbztcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm1EZWxldGUgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZE1vZGFsID0gdGhpcy5fcG9wdXBFbGVtZW50O1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9kZWxldGVDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEZ1bmN0aW9uKHN1Ym1pdEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRGdW5jdGlvbiA9IHN1Ym1pdEZ1bmN0aW9uO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpZiAodGhpcy5fc3VibWl0RnVuY3Rpb24pIHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRGdW5jdGlvbigpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLmNoZWNrUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgdGhlIGN1cnJlbnQgdXNlcidzIGluZm9cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5jaGVja1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIHByb2ZpbGUgaW5mb3JtYXRpb25cclxuICB1cGRhdGVVc2VySW5mbyhkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZSBhdmF0YXJcclxuICB1cGRhdGVVc2VyQXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZURlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLmNoZWNrUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvLyBMaWtlIGEgY2FyZFxyXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5jaGVja1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgLy8gRGlzbGlrZSBhIGNhcmRcclxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvQW5kQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pLnRoZW4oXHJcbiAgICAgIChbdXNlckluZm8sIGNhcmRzXSkgPT4gKHsgdXNlckluZm8sIGNhcmRzIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IEFwaTtcclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZVByZXZpZXciLCJkZWxldGVDYXJkTW9kYWwiLCJoYW5kbGVDYXJkTGlrZSIsIm5hbWUiLCJsaW5rIiwiX2lkIiwiaXNMaWtlZCIsInRoaXMiLCJpZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VQcmV2aWV3IiwiX2RlbGV0ZUNhcmRNb2RhbCIsIl9oYW5kbGVDYXJkTGlrZSIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfZGVsZXRlQ2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfbGlrZUJ1dHRvbiIsIl9jYXJkSW1hZ2UiLCJoYW5kbGVEZWxldGVDYXJkIiwiX2NhcmRFbGVtZW50IiwicmVtb3ZlIiwidXBkYXRlTGlrZSIsImNsYXNzTGlzdCIsImFkZCIsImdldHZpZXciLCJ0ZXh0Q29udGVudCIsInRvZ2dsZSIsInNyYyIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZUVsIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRFbHMiLCJldmVyeSIsInJlc2V0VmFsaWRhdGlvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9zdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZW5hYmxlVmFsaWRhdGlvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfYnV0dG9uIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlRWRpdE1vZGFsIiwiYXZhdGFyRWRpdE1vZGFsIiwiYWRkQ2FyZE1vZGFsIiwicHJvZmlsZVRpdGxlSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsImFkZE5ld0NhcmRCdXR0b24iLCJwcm9maWxlRWRpdEZvcm0iLCJhdmF0YXJGb3JtRWxlbWVudCIsImFkZENhcmRGb3JtRWxlbWVudCIsInByZXZpZXdJbWFnZU1vZGFsIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjYXJkU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJpdGVtcyIsIl9yZW5kZXJlciIsIl9pdGVtcyIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJjYXJkRGF0YSIsImNhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImFkZENhcmRQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJzYXZlQnV0dG9uIiwicmVuZGVyU2F2aW5nIiwiYXBpIiwiYWRkQ2FyZCIsInRpdGxlIiwidXJsIiwidGhlbiIsInJlc2V0IiwiYWRkRm9ybVZhbGlkYXRvciIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiYWxlcnQiLCJmaW5hbGx5IiwiYXZhdGFyUG9wdXAiLCJpbnB1dERhdGEiLCJ1cGRhdGVVc2VyQXZhdGFyIiwiYXZhdGFyIiwidXNlckRhdGEiLCJ1c2VySW5mb0luc3RhbmNlIiwidXBkYXRlQXZhdGFySW1hZ2UiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiZWRpdFByb2ZpbGVQb3B1cCIsInVwZGF0ZVVzZXJJbmZvIiwiYWJvdXQiLCJkZXNjcmlwdGlvbiIsInNldFVzZXJJbmZvIiwiaW1hZ2VQcmV2aWV3UG9wdXAiLCJfaW1hZ2UiLCJfY2FwdGlvbiIsInByb2ZpbGVOYW1lIiwiam9iRWxlbWVudCIsImF2YXRhckltYWdlIiwiX3Byb2ZpbGVOYW1lIiwiX2pvYkVsZW1lbnQiLCJfYXZhdGFySW1hZ2UiLCJnZXRVc2VySW5mbyIsInVzZXJJbmYiLCJpbWFnZSIsImNvbmZpcm1EZWxldGUiLCJfZm9ybUVsZW1lbnQiLCJzZXRTdWJtaXRGdW5jdGlvbiIsInN1Ym1pdEZ1bmN0aW9uIiwiX3N1Ym1pdEZ1bmN0aW9uIiwiZXZlbnQiLCJvcHRpb25zIiwiYmFzZVVybCIsImhlYWRlcnMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsIm1ldGhvZCIsInJlcyIsImNoZWNrUmVzcG9uc2UiLCJkYXRhIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJsaWtlQ2FyZCIsImRpc2xpa2VDYXJkIiwiZ2V0VXNlckluZm9BbmRDYXJkcyIsIlByb21pc2UiLCJhbGwiLCJ1c2VySW5mbyIsImNhcmRzIiwib2siLCJqc29uIiwicmVqZWN0Iiwic3RhdHVzIiwiYXV0aG9yaXphdGlvbiIsImlzTG9hZGluZyIsImJ1dHRvbkVsZW1lbnQiLCJkZWZhdWx0VGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNhcmQiLCJsb2ciLCJlZGl0Rm9ybVZhbGlkYXRvciIsImN1cnJlbnRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=